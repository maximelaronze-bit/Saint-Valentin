<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mon amour</title>
    
    <!-- Police Allura -->
    <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet">

<style>
    body {
        margin: 0;
        height: 100vh;
        background: #ffe6f2;
        font-family: 'Allura', cursive;
        overflow: hidden;
        position: relative;
    }

    h1, h2 {
        font-family: 'Allura', cursive;
        text-align: center;
        color: #cc0052;
        margin: 0;
        z-index: 10;
    }

    #question {
    font-size: 4rem; /* ici tu peux mettre 2rem, 4rem‚Ä¶ ce que tu veux */
    }

    #screen2 h2 {
    font-size: 3rem; /* ajuste la taille comme tu veux */
    }

    #screen1, #screen2 {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: absolute;
        top: 0;
        left: 0;
    }

    #screen2 { display: none; }

    .coeur {
        position: absolute;
        cursor: pointer;
        width: 70px;
        height: 70px;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 5;
        font-family: 'Allura', cursive;
    }

    .coeur .emoji-heart { font-size: 70px; color: #ff4da6; }
    .coeur .heart-text {
        position: absolute;
        color: white;
        font-size: 20px;
        transform: translateY(5px);
        pointer-events: none;
    }

    .explode { animation: explode 0.4s forwards; }
    @keyframes explode { 0% {transform: scale(1);opacity:1;} 100% {transform:scale(2.5);opacity:0;} }

    #image-row { display: flex; justify-content: center; gap: 650px; margin-bottom: 20px; flex-wrap: wrap; }
    .photo-container { width: 40vw; max-width: 350px; height: 75vh; max-height: 500px; border-radius: 20px; background: white; box-shadow: 0 4px 10px rgba(0,0,0,0.2); overflow: hidden; display: flex; justify-content: center; align-items: center; margin: 5px; z-index: 10; }
    .photo-container img { width: 100%; height: 100%; object-fit: cover; }

    #poeme { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2.2rem; color: #cc0052; text-align: center; opacity: 0; font-family: 'Allura', cursive; z-index: 20; animation: fadeIn 5s forwards; }
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }

    #interactive-text { font-size: 3rem; color: #cc0052; margin-top: -50px; height:auto; }

    .heart2 { position: absolute; width: 50px; height: 50px; background: #ff3366; border-radius: 50%; opacity: 0.6; animation: float 3s infinite ease-in-out; display: flex; justify-content: center; align-items: center; color: white; font-family: 'Allura', cursive; font-size: 1.2rem; }
    @keyframes float { 0% {transform:translateY(0);} 50% {transform:translateY(-20px);} 100% {transform:translateY(0);} }
</style>
</head>

<body>

<div id="screen1">
    <h1 id="question">Est-ce que tu veux √™tre avec moi toute ta vie ? üíï</h1>
</div>

<div id="screen2">
    <h2>Pour toi ma princesse ‚ù§Ô∏è</h2>
    <div id="image-row">
        <div class="photo-container">
            <img src="2.jpg" alt="Photo 1">
        </div>
        <div class="photo-container">
            <img src="IMG_3152.jpg" alt="Photo 2">
        </div>
    </div>
    <div id="poeme">
      Le√Øla, ton nom traverse mon c≈ìur comme un √©clair,<br>
      Ton amour me soul√®ve, me d√©passe, me serre.<br>
      Je t‚Äôaime d‚Äôune force qui d√©borde et me d√©vore,<br>
      Tu es mon souffle, ma fi√®vre, mon toujours et encore.
    </div>
    <div id="interactive-text"></div>
</div>

<!-- Musique pour page 2 -->
<audio id="bg-music" src="Edith.mp3" loop></audio>

<script>
const nbHearts = 30;
const correctIndex = Math.floor(Math.random() * nbHearts);
const title = document.getElementById('question');

setTimeout(() => {
    const titleRect = title.getBoundingClientRect();
    const safeMargin = 150;
    const screen1Hearts = [];

    for (let i=0; i<nbHearts; i++){
        const heart = document.createElement('div');
        heart.classList.add('coeur');
        heart.innerHTML = `<span class="emoji-heart">‚ù§Ô∏è</span><span class="heart-text">Oui</span>`;
        let x,y;
        do {
            x = Math.random()*(window.innerWidth-80);
            y = Math.random()*(window.innerHeight-80);
        } while (x>titleRect.left-safeMargin && x<titleRect.right+safeMargin && y>titleRect.top-safeMargin && y<titleRect.bottom+safeMargin);
        heart.style.left = x+'px';
        heart.style.top = y+'px';
        if(i===correctIndex) heart.id='correct';
        document.body.appendChild(heart);
        screen1Hearts.push(heart);
    }

    const correct = document.getElementById('correct');
    correct.addEventListener('click', () => {
        screen1Hearts.forEach(h => h.remove());
        document.getElementById('screen1').style.display='none';
        document.getElementById('screen2').style.display='flex';

        // Lancer la musique avec d√©marrage √† 4 secondes et fondu
      const music = document.getElementById('bg-music');
      music.currentTime = 5; // commencer √† 4 secondes
      music.volume = 0;       // volume initial √† 0 pour le fondu

      music.play().catch(e => console.log("Autoplay bloqu√©, clique pour activer le son"));

// Fondu de volume sur 3 secondes
let targetVolume = 1;   // volume final
let fadeDuration = 20000;  // dur√©e du fondu en ms
let fadeStep = 50;        // intervalle de mise √† jour en ms
let increment = targetVolume / (fadeDuration / fadeStep);

let fadeInterval = setInterval(() => {
    if (music.volume < targetVolume) {
        music.volume = Math.min(music.volume + increment, targetVolume);
    } else {
        clearInterval(fadeInterval);
    }
}, fadeStep);

        const title2 = document.querySelector('#screen2 h2').getBoundingClientRect();
        const images = document.querySelectorAll('.photo-container');
        const poemeRect = document.getElementById('poeme').getBoundingClientRect();
        const interactiveRect = document.getElementById('interactive-text').getBoundingClientRect();

        const nbHearts2 = 25;
        for(let i=0;i<nbHearts2;i++){
            const heart = document.createElement('div');
            heart.classList.add('heart2');
            heart.textContent='üíñ';
            let x,y;
            do {
                x = Math.random()*(window.innerWidth-50);
                y = Math.random()*(window.innerHeight-50);
            } while (
                (x>title2.left-50 && x<title2.right+50 && y>title2.top-50 && y<title2.bottom+50) ||
                Array.from(images).some(img=>{
                    const rect=img.getBoundingClientRect();
                    return x>rect.left-50 && x<rect.right+50 && y>rect.top-50 && y<rect.bottom+50;
                }) ||
                (x>poemeRect.left-50 && x<poemeRect.right+50 && y>poemeRect.top-50 && y<poemeRect.bottom+50) ||
                (x>interactiveRect.left-50 && x<interactiveRect.right+50 && y>interactiveRect.top-50 && y<interactiveRect.bottom+50)
            );
            heart.style.left = x+'px';
            heart.style.top = y+'px';
            heart.style.animationDelay=(Math.random()*2)+'s';
            document.body.appendChild(heart);
        }

        const text="Je t'aime plus que tout au monde üíï";
        const interactiveText = document.getElementById('interactive-text');
        let index=0;
        function typeLetter(){
            if(index<text.length){
                interactiveText.textContent+=text[index];
                index++;
                setTimeout(typeLetter,150);
            }
        }
        typeLetter();
    });

    screen1Hearts.forEach(h=>{
        if(h!==correct){
            h.addEventListener('click',()=>{
                h.classList.add('explode');
                setTimeout(()=>h.remove(),400);
            });
        }
    });
},50);
</script>

</body>
</html>

